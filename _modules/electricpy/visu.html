

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../_static/ElectricpyLogo.svg">
    
    
      
        <title>electricpy.visu - electricpy 0.4.0 documentation</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.af531f03affe68837.min.css?v=2410bb73" />
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="electricpy 0.4.0 documentation" class="md-header__button md-logo" aria-label="electricpy 0.4.0 documentation" data-md-component="logo">
      <img src="../../_static/ElectricpyLogo.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            electricpy 0.4.0 documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              electricpy.visu
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/engineerjoe440/ElectricPy/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ElectricPy
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="electricpy 0.4.0 documentation" class="md-nav__button md-logo" aria-label="electricpy 0.4.0 documentation" data-md-component="logo">
      <img src="../../_static/ElectricpyLogo.svg" alt="logo">
    </a>
    electricpy 0.4.0 documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/engineerjoe440/ElectricPy/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ElectricPy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../electricpyapi.html" class="md-nav__link">
        <span class="md-ellipsis">Electric<wbr>Py API</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../constants.html" class="md-nav__link">
        <span class="md-ellipsis">Constants</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../additionalresources.html" class="md-nav__link">
        <span class="md-ellipsis">Additional Resources</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../changes.html" class="md-nav__link">
        <span class="md-ellipsis">Recent Changes</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/engineerjoe440/ElectricPy" class="md-nav__link">
        <span class="md-ellipsis">Github</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="https://pypi.org/project/electricpy" class="md-nav__link">
        <span class="md-ellipsis">Py<wbr>PI</span>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary">
  
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1>Source code for electricpy.visu</h1><div class="highlight"><pre>
<span></span><code><span class="c1">################################################################################</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Visualizations Specifically for Electrical Engineering.</span>

<span class="sd">Filled with plotting functions and visualization tools for electrical engineers,</span>
<span class="sd">this module is designed to assist engineers visualize their designs.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1">################################################################################</span>

<span class="kn">import</span> <span class="nn">cmath</span> <span class="k">as</span> <span class="nn">_c</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">_np</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">_matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">_plt</span>

<span class="kn">from</span> <span class="nn">electricpy</span> <span class="kn">import</span> <span class="n">powerset</span><span class="p">,</span> <span class="n">geometry</span>
<span class="kn">from</span> <span class="nn">electricpy.geometry</span> <span class="kn">import</span> <span class="n">Point</span>
<span class="kn">from</span> <span class="nn">electricpy.geometry.circle</span> <span class="kn">import</span> <span class="n">Circle</span>


<span class="c1"># Define Power Triangle Function</span>
<div class="viewcode-block" id="powertriangle">
<a class="viewcode-back" href="../../api/electricpy.visu.powertriangle.html#electricpy.visu.powertriangle">[docs]</a>
<span class="k">def</span> <span class="nf">powertriangle</span><span class="p">(</span>
    <span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Q</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">PF</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Power Triangle&quot;</span><span class="p">,</span> <span class="n">printval</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Power Triangle Plotting Function.</span>

<span class="sd">    This function is designed to draw a power triangle given</span>
<span class="sd">    values for the complex power system.</span>

<span class="sd">    .. image:: /static/PowerTriangle.png</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    P:          float</span>
<span class="sd">                Real Power, unitless, default=None</span>
<span class="sd">    Q:          float</span>
<span class="sd">                Reactive Power, unitless, default=None</span>
<span class="sd">    S:          float</span>
<span class="sd">                Apparent Power, unitless, default=None</span>
<span class="sd">    PF:         float</span>
<span class="sd">                Power Factor, unitless, provided as a decimal value, lagging is</span>
<span class="sd">                positive, leading is negative; default=None</span>
<span class="sd">    color:      string, optional</span>
<span class="sd">                The color of the power triangle lines, default=&quot;red&quot;</span>
<span class="sd">    text:       string, optional</span>
<span class="sd">                The title of the power triangle plot, default=&quot;Power Triangle&quot;</span>
<span class="sd">    printval:   bool, optional</span>
<span class="sd">                Control argument to allow the numeric values to be printed on</span>
<span class="sd">                the plot, default=&quot;False&quot;</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    matplotlib.pyplot:  Plotting object to be used for additional configuration</span>
<span class="sd">                        or plotting.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Calculate all values if not all are provided</span>
    <span class="k">if</span> <span class="n">P</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">Q</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">S</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">PF</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">PF</span> <span class="o">=</span> <span class="n">powerset</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">PF</span><span class="p">)</span>

    <span class="c1"># Generate Lines</span>
    <span class="n">p_line_x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">P</span><span class="p">]</span>
    <span class="n">p_line_y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">q_line_x</span> <span class="o">=</span> <span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">P</span><span class="p">]</span>
    <span class="n">q_line_y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">Q</span><span class="p">]</span>
    <span class="n">s_line_x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">P</span><span class="p">]</span>
    <span class="n">s_line_y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">Q</span><span class="p">]</span>

    <span class="c1"># Plot Power Triangle</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">p_line_x</span><span class="p">,</span> <span class="n">p_line_y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">q_line_x</span><span class="p">,</span> <span class="n">q_line_y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">s_line_x</span><span class="p">,</span> <span class="n">s_line_y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Real Power (W)&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Reactive Power (VAR)&quot;</span><span class="p">)</span>
    <span class="n">maximum</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">P</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">Q</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">P</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">maximum</span> <span class="o">*</span> <span class="mf">1.1</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">maximum</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="n">maximum</span> <span class="o">*</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="n">maximum</span>
    <span class="k">if</span> <span class="n">Q</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">maximum</span> <span class="o">*</span> <span class="mf">1.1</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">maximum</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="n">maximum</span> <span class="o">*</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="n">maximum</span>
    <span class="k">if</span> <span class="n">PF</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">power_factor_text</span> <span class="o">=</span> <span class="s2">&quot;Lagging&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">power_factor_text</span> <span class="o">=</span> <span class="s2">&quot;Leading&quot;</span>
    <span class="c1"># Print all values if asked to</span>
    <span class="k">if</span> <span class="n">printval</span><span class="p">:</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="n">x</span> <span class="o">/</span> <span class="mi">20</span><span class="p">,</span>
            <span class="n">y</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">5</span><span class="p">,</span>
            <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;P:   </span><span class="si">{</span><span class="n">P</span><span class="si">}</span><span class="s2"> W</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Q:   </span><span class="si">{</span><span class="n">Q</span><span class="si">}</span><span class="s2"> VAR</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;S:   </span><span class="si">{</span><span class="n">S</span><span class="si">}</span><span class="s2"> VA</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;PF:  </span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="n">PF</span><span class="p">)</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">power_factor_text</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;ΘPF: </span><span class="si">{</span><span class="n">_np</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">_np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="n">PF</span><span class="p">))</span><span class="si">}</span><span class="s2">° </span><span class="si">{</span><span class="n">power_factor_text</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">),</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">_plt</span></div>



<span class="c1"># Define Convolution Bar-Graph Function:</span>
<div class="viewcode-block" id="convbar">
<a class="viewcode-back" href="../../api/electricpy.visu.convbar.html#electricpy.visu.convbar">[docs]</a>
<span class="k">def</span> <span class="nf">convbar</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convolution Bar-Graph Plotter Function.</span>

<span class="sd">    Generates plots of each of two input arrays as bar-graphs, then</span>
<span class="sd">    generates a convolved bar-graph of the two inputs to demonstrate</span>
<span class="sd">    and illustrate convolution, typically for an educational purpose.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; import numpy as np</span>
<span class="sd">    &gt;&gt;&gt; import electricpy.visu as visu</span>
<span class="sd">    &gt;&gt;&gt; h = np.array([0, 1, 1, 1, 0])</span>
<span class="sd">    &gt;&gt;&gt; x = np.array([0, 1, 1, 1, 0])</span>
<span class="sd">    &gt;&gt;&gt; visu.convbar(h, x)</span>

<span class="sd">    .. image:: /static/convbar-example.png</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    h:      numpy.ndarray</span>
<span class="sd">            Impulse Response - Given as Array (Prefferably Numpy Array)</span>
<span class="sd">    x:      numpy.ndarray</span>
<span class="sd">            Input Function - Given as Array (Prefferably Numpy Array)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The impulse response</span>
    <span class="n">M</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
    <span class="c1"># Plot</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">outline</span><span class="p">:</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;h&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Impulse Response&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

    <span class="c1"># The input function</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
    <span class="c1"># Plot</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">outline</span><span class="p">:</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">19</span><span class="p">])</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Input Function&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>

    <span class="c1"># The output</span>
    <span class="n">L</span> <span class="o">=</span> <span class="n">M</span> <span class="o">+</span> <span class="n">N</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">outline</span><span class="p">:</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Convolved Output&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_plt</span></div>



<span class="c1"># Define Phasor Plot Generator</span>
<div class="viewcode-block" id="phasorplot">
<a class="viewcode-back" href="../../api/electricpy.visu.phasorplot.html#electricpy.visu.phasorplot">[docs]</a>
<span class="k">def</span> <span class="nf">phasorplot</span><span class="p">(</span>
    <span class="n">phasors</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Phasor Diagram&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">bg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">radius</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Phasor Plotting Function.</span>

<span class="sd">    This function is designed to plot a phasor-diagram with angles in degrees</span>
<span class="sd">    for up to 12 phasor sets (more may be used if additional colors are set).</span>
<span class="sd">    Phasors must be passed as a complex number set, (e.g.</span>
<span class="sd">    [ m+ja, m+ja, m+ja, ... , m+ja ] ).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; import numpy as np</span>
<span class="sd">    &gt;&gt;&gt; from electricpy import phasors</span>
<span class="sd">    &gt;&gt;&gt; from electricpy import visu</span>
<span class="sd">    &gt;&gt;&gt; voltages = np.array([</span>
<span class="sd">    ...     [67,0],</span>
<span class="sd">    ...     [45,-120],</span>
<span class="sd">    ...     [52,120]</span>
<span class="sd">    ... ])</span>
<span class="sd">    &gt;&gt;&gt; phasors = phasors.phasorlist(voltages)</span>
<span class="sd">    &gt;&gt;&gt; plt = visu.phasorplot(phasors, colors=[&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;])</span>
<span class="sd">    &gt;&gt;&gt; plt.show()</span>

<span class="sd">    .. image:: /static/PhasorPlot.png</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    phasors:    list of complex</span>
<span class="sd">                The set of phasors to be plotted.</span>
<span class="sd">    title:      string, optional</span>
<span class="sd">                The Plot Title, default=&quot;Phasor Diagram&quot;</span>
<span class="sd">    legend:     bool, optional</span>
<span class="sd">                Control argument to enable displaying the legend, must be passed</span>
<span class="sd">                as an array or list of strings. `label` and `labels` are mimic-</span>
<span class="sd">                arguments and will perform similar operation, default=False</span>
<span class="sd">    bg:         string, optional</span>
<span class="sd">                Background-Color control, default=&quot;#d5de9c&quot;</span>
<span class="sd">    radius:     float, optional</span>
<span class="sd">                The diagram radius, unless specified, automatically scales</span>
<span class="sd">    colors:     list of str, optional</span>
<span class="sd">                List of hexidecimal color strings denoting the line colors to</span>
<span class="sd">                use.</span>
<span class="sd">    size:       float, optional</span>
<span class="sd">                Control argument for figure size. default=None</span>
<span class="sd">    linewidth:  float, optional</span>
<span class="sd">                Control argument to declare the line thickness. default=None</span>
<span class="sd">    tolerance:  float, optional</span>
<span class="sd">                Minimum magnitude to plot, anything less than tolerance will be</span>
<span class="sd">                plotted as a single point at the origin, by default, the</span>
<span class="sd">                tolerance is scaled to be 1/25-th the maximum radius. To disable</span>
<span class="sd">                the tolerance, simply provide either False or -1.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    matplotlib.pyplot:  Plotting object to be used for additional configuration</span>
<span class="sd">                        or plotting.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Load Complex Values if Necessary</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">phasors</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">phasors</span> <span class="o">=</span> <span class="p">[</span><span class="n">phasors</span><span class="p">]</span>
    <span class="c1"># Manage Colors</span>
    <span class="k">if</span> <span class="n">colors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;#FF0000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#800000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#FFFF00&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#808000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#00ff00&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#008000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#00ffff&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#008080&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#0000ff&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#000080&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#ff00ff&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#800080&quot;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="c1"># Scale Radius</span>
    <span class="k">if</span> <span class="n">radius</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">radius</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">phasors</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="c1"># Set Tolerance</span>
    <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="n">radius</span> <span class="o">/</span> <span class="mi">25</span>
    <span class="k">elif</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="c1"># Set Background Color</span>
    <span class="k">if</span> <span class="n">bg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">bg</span> <span class="o">=</span> <span class="s2">&quot;#FFFFFF&quot;</span>
    <span class="c1"># Load labels if handled in other argument</span>
    <span class="k">if</span> <span class="n">label</span><span class="p">:</span>
        <span class="n">legend</span> <span class="o">=</span> <span class="n">label</span>
    <span class="k">if</span> <span class="n">labels</span><span class="p">:</span>
        <span class="n">legend</span> <span class="o">=</span> <span class="n">labels</span>
    <span class="c1"># Check for more phasors than colors</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">phasors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;ERROR: Too many phasors provided. Specify more line colors.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Force square figure and square axes</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">_matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">]</span>
        <span class="n">size</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
    <span class="c1"># Make a square figure</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">_plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">size</span><span class="p">))</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">],</span> <span class="n">polar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">bg</span><span class="p">)</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Plot the diagram</span>
    <span class="n">_plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">arrows</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">phasor</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">phasors</span><span class="p">):</span>
        <span class="n">mag</span><span class="p">,</span> <span class="n">ang_r</span> <span class="o">=</span> <span class="n">_c</span><span class="o">.</span><span class="n">polar</span><span class="p">(</span><span class="n">phasor</span><span class="p">)</span>
        <span class="c1"># Plot with labels</span>
        <span class="k">if</span> <span class="n">legend</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">mag</span> <span class="o">&gt;</span> <span class="n">tolerance</span><span class="p">:</span>
                <span class="n">arrows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">_plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span>
                        <span class="mi">0</span><span class="p">,</span>
                        <span class="mi">0</span><span class="p">,</span>
                        <span class="n">ang_r</span><span class="p">,</span>
                        <span class="n">mag</span><span class="p">,</span>
                        <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                        <span class="n">label</span><span class="o">=</span><span class="n">legend</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                        <span class="n">linewidth</span><span class="o">=</span><span class="n">linewidth</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">arrows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
                        <span class="mi">0</span><span class="p">,</span>
                        <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;o&quot;</span><span class="p">,</span>
                        <span class="n">markersize</span><span class="o">=</span><span class="n">linewidth</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span>
                        <span class="n">label</span><span class="o">=</span><span class="n">legend</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                        <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                    <span class="p">)</span>
                <span class="p">)</span>
        <span class="c1"># Plot without labels</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ang_r</span><span class="p">,</span> <span class="n">mag</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="n">linewidth</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">legend</span><span class="p">:</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">arrows</span><span class="p">,</span> <span class="n">legend</span><span class="p">)</span>
    <span class="c1"># Set Minimum and Maximum Radius Terms</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_rmax</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_rmin</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_plt</span></div>



<div class="viewcode-block" id="InductionMotorCircle">
<a class="viewcode-back" href="../../api/electricpy.visu.InductionMotorCircle.html#electricpy.visu.InductionMotorCircle">[docs]</a>
<span class="k">class</span> <span class="nc">InductionMotorCircle</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Plot Induction Motor Circle Diagram.</span>

<span class="sd">    This class is designed to plot induction motor circle diagram</span>
<span class="sd">    and plot circle diagram to obtain various parameters of induction motor.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from electricpy.visu import InductionMotorCircle</span>
<span class="sd">    &gt;&gt;&gt; open_circuit_test_data = {&#39;V0&#39;: 400, &#39;I0&#39;: 9, &#39;W0&#39;: 1310}</span>
<span class="sd">    &gt;&gt;&gt; blocked_rotor_test_data = {&#39;Vsc&#39;: 200, &#39;Isc&#39;: 50, &#39;Wsc&#39;: 7100}</span>
<span class="sd">    &gt;&gt;&gt; ratio = 1  # stator copper loss/ rotor copper loss</span>
<span class="sd">    &gt;&gt;&gt; output_power = 15000</span>
<span class="sd">    &gt;&gt;&gt; InductionMotorCircle(</span>
<span class="sd">    ...     no_load_data=open_circuit_test_data,</span>
<span class="sd">    ...     blocked_rotor_data=blocked_rotor_test_data,</span>
<span class="sd">    ...     output_power=output_power,</span>
<span class="sd">    ...     torque_ration=ratio,</span>
<span class="sd">    ...     frequency=50,</span>
<span class="sd">    ...     poles=4</span>
<span class="sd">    ... )</span>

<span class="sd">    .. image:: /static/InductionMotorCircleExample.png</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    no_load_data:       dict {&#39;V0&#39;, &#39;I0&#39;, &#39;W0&#39;}</span>
<span class="sd">                        V0: no load test voltage</span>
<span class="sd">                        I0: no load current in rotor</span>
<span class="sd">                        W0: No load power(in Watts)</span>
<span class="sd">    blocked_rotor_data: dict {&#39;Vsc&#39;,&#39;Isc&#39;,&#39;Wsc&#39;}</span>
<span class="sd">                        Vsc: blocked rotor terminal voltage</span>
<span class="sd">                        Isc: blocked rotor current in rotor</span>
<span class="sd">                        Wsc: Power consumed in blocked rotor test</span>
<span class="sd">    output_power:       int</span>
<span class="sd">                        Desired power output from the induction motor</span>
<span class="sd">    torque_ration:      float</span>
<span class="sd">                        Ration between rotor resistance to stator resistance</span>
<span class="sd">                        (i.e., R2/R1)</span>
<span class="sd">    frequency:          int</span>
<span class="sd">                        AC supply frequency</span>
<span class="sd">    poles:              int</span>
<span class="sd">                        Pole count of induction Motor</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="InductionMotorCircle.__init__">
<a class="viewcode-back" href="../../api/electricpy.visu.InductionMotorCircle.html#electricpy.visu.InductionMotorCircle.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">no_load_data</span><span class="p">,</span>
        <span class="n">blocked_rotor_data</span><span class="p">,</span>
        <span class="n">output_power</span><span class="p">,</span>
        <span class="n">torque_ration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">frequency</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
        <span class="n">poles</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Primary Entrypoint.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_load_data</span> <span class="o">=</span> <span class="n">no_load_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blocked_rotor_data</span> <span class="o">=</span> <span class="n">blocked_rotor_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span> <span class="o">=</span> <span class="n">frequency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operating_power</span> <span class="o">=</span> <span class="n">output_power</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">torque_ratio</span> <span class="o">=</span> <span class="n">torque_ration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">poles</span> <span class="o">=</span> <span class="n">poles</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sync_speed</span> <span class="o">=</span> <span class="mi">120</span> <span class="o">*</span> <span class="n">frequency</span> <span class="o">/</span> <span class="n">poles</span>  <span class="c1"># rpm</span>

        <span class="n">v0</span> <span class="o">=</span> <span class="n">no_load_data</span><span class="p">[</span><span class="s2">&quot;V0&quot;</span><span class="p">]</span>
        <span class="n">i0</span> <span class="o">=</span> <span class="n">no_load_data</span><span class="p">[</span><span class="s2">&quot;I0&quot;</span><span class="p">]</span>
        <span class="n">w0</span> <span class="o">=</span> <span class="n">no_load_data</span><span class="p">[</span><span class="s2">&quot;W0&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">no_load_pf</span> <span class="o">=</span> <span class="n">w0</span> <span class="o">/</span> <span class="p">(</span><span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">v0</span> <span class="o">*</span> <span class="n">i0</span><span class="p">)</span>
        <span class="n">theta0</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">no_load_pf</span><span class="p">)</span>

        <span class="c1"># get short circuit power factor and Current at slip=1</span>
        <span class="n">vsc</span> <span class="o">=</span> <span class="n">blocked_rotor_data</span><span class="p">[</span><span class="s2">&quot;Vsc&quot;</span><span class="p">]</span>
        <span class="n">isc</span> <span class="o">=</span> <span class="n">blocked_rotor_data</span><span class="p">[</span><span class="s2">&quot;Isc&quot;</span><span class="p">]</span>
        <span class="n">wsc</span> <span class="o">=</span> <span class="n">blocked_rotor_data</span><span class="p">[</span><span class="s2">&quot;Wsc&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">blocked_rotor_pf</span> <span class="o">=</span> <span class="n">wsc</span> <span class="o">/</span> <span class="p">(</span><span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">vsc</span> <span class="o">*</span> <span class="n">isc</span><span class="p">)</span>
        <span class="n">theta_sc</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_rotor_pf</span><span class="p">)</span>

        <span class="c1"># because V is on Y axis</span>
        <span class="n">theta0</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">theta0</span>
        <span class="n">theta_sc</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">theta_sc</span>

        <span class="c1"># isc is the current at reduced voltage</span>
        <span class="c1"># calculate current at rated voltage</span>
        <span class="n">isc</span> <span class="o">=</span> <span class="n">v0</span> <span class="o">*</span> <span class="n">isc</span> <span class="o">/</span> <span class="n">vsc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_load_line</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="n">i0</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta0</span><span class="p">)],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">i0</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta0</span><span class="p">)]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">full_load_line</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">isc</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta_sc</span><span class="p">)],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">isc</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta_sc</span><span class="p">)],</span>
        <span class="p">]</span>

        <span class="c1"># secondary current line</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_current_line</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="n">i0</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta0</span><span class="p">),</span> <span class="n">isc</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta_sc</span><span class="p">)],</span>
            <span class="p">[</span><span class="n">i0</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta0</span><span class="p">),</span> <span class="n">isc</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta_sc</span><span class="p">)],</span>
        <span class="p">]</span>

        <span class="p">[[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">],</span> <span class="p">[</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_current_line</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arctan</span><span class="p">((</span><span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span><span class="p">))</span>

        <span class="c1"># get the induction motor circle</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">power_scale</span> <span class="o">=</span> <span class="n">w0</span> <span class="o">/</span> <span class="p">(</span><span class="n">i0</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_circle_params</span><span class="p">()</span>
        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">center_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_y</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">p_max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">)</span>
        <span class="p">)</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">torque_line</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">torque_point</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_torque_line</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">torque_max</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">torque_max_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">torque_max_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_torque_max</span><span class="p">()</span>
        <span class="c1"># Take low slip point</span>
        <span class="n">_</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">power_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_y</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output_power</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_efficiency</span><span class="p">()</span></div>


    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># noqa: D102</span>
        <span class="vm">__doc__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__doc__</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>

    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Plot the Induction Motor Circle Diagram.&quot;&quot;&quot;</span>
        <span class="p">[</span><span class="n">circle_x</span><span class="p">,</span> <span class="n">circle_y</span><span class="p">]</span> <span class="o">=</span> <span class="n">InductionMotorCircle</span><span class="o">.</span><span class="n">__get_circle</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">semi</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">circle_x</span><span class="p">,</span> <span class="n">circle_y</span><span class="p">)</span>

        <span class="n">InductionMotorCircle</span><span class="o">.</span><span class="n">__plot_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">no_load_line</span><span class="p">)</span>
        <span class="n">InductionMotorCircle</span><span class="o">.</span><span class="n">__plot_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_current_line</span><span class="p">)</span>
        <span class="n">InductionMotorCircle</span><span class="o">.</span><span class="n">__plot_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">full_load_line</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-.&quot;</span><span class="p">)</span>
        <span class="n">InductionMotorCircle</span><span class="o">.</span><span class="n">__plot_line</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">torque_line</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-.&quot;</span><span class="p">)</span>

        <span class="c1"># Full load output</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_current_line</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_current_line</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]],</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_current_line</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_y</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="c1"># Diameter of the circle</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">center_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">],</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">center_y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_y</span><span class="p">],</span>
            <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Max torque line</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">center_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">torque_max_x</span><span class="p">],</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">center_y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">torque_max_y</span><span class="p">],</span>
            <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Max Output Power line</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">center_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">)],</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">center_y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">)],</span>
            <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Operating Point</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_x</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_y</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

        <span class="n">_plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">power_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_y</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span>
        <span class="p">)</span>
        <span class="c1"># mark the center of the circle</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">center_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_y</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span>
        <span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">center_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">center_y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">),</span>
            <span class="n">linewidths</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
            <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">torque_max_x</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">torque_max_y</span><span class="p">,</span>
            <span class="n">linewidths</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
            <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">_plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Induction Motor Circle Diagram&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="s2">&quot;I2 locus&quot;</span><span class="p">,</span>
                <span class="s2">&quot;No Load Current&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Output Line&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Blocked Rotor Current&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Torque line&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Full Load Losses&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Diameter&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Maximum Torque&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Maximum Output Power&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;Operating Power </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operating_power</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">_plt</span>

    <span class="k">def</span> <span class="nf">compute_efficiency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Compute the output efficiency of induction motor.&quot;&quot;&quot;</span>
        <span class="p">[[</span><span class="n">_</span><span class="p">,</span> <span class="n">no_load_x</span><span class="p">],</span> <span class="p">[</span><span class="n">_</span><span class="p">,</span> <span class="n">no_load_y</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">no_load_line</span>
        <span class="n">no_load_losses</span> <span class="o">=</span> <span class="n">no_load_y</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_scale</span>

        <span class="n">compute_slope</span> <span class="o">=</span> <span class="n">InductionMotorCircle</span><span class="o">.</span><span class="n">compute_slope</span>

        <span class="n">torque_slope</span> <span class="o">=</span> <span class="n">compute_slope</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">torque_line</span><span class="p">)</span>
        <span class="n">stator_cu_loss</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">power_x</span> <span class="o">-</span> <span class="n">no_load_x</span><span class="p">)</span> <span class="o">*</span> <span class="n">torque_slope</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_scale</span>

        <span class="n">rotor_current_slope</span> <span class="o">=</span> <span class="n">compute_slope</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_current_line</span><span class="p">)</span>
        <span class="n">total_cu_loss</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">power_x</span> <span class="o">-</span> <span class="n">no_load_x</span><span class="p">)</span> <span class="o">*</span> <span class="n">rotor_current_slope</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_scale</span>
        <span class="p">)</span>

        <span class="n">rotor_cu_loss</span> <span class="o">=</span> <span class="n">total_cu_loss</span> <span class="o">-</span> <span class="n">stator_cu_loss</span>

        <span class="n">rotor_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_y</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_scale</span> <span class="o">-</span> <span class="p">(</span>
            <span class="n">rotor_cu_loss</span> <span class="o">+</span> <span class="n">stator_cu_loss</span> <span class="o">+</span> <span class="n">no_load_losses</span>
        <span class="p">)</span>

        <span class="n">slip</span> <span class="o">=</span> <span class="n">rotor_cu_loss</span> <span class="o">/</span> <span class="n">rotor_output</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotor_speed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_speed</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">slip</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;no_load_loss&quot;</span><span class="p">:</span> <span class="n">no_load_losses</span><span class="p">,</span>
            <span class="s2">&quot;rotor_copper_loss&quot;</span><span class="p">:</span> <span class="n">rotor_cu_loss</span><span class="p">,</span>
            <span class="s2">&quot;stator_copper_loss&quot;</span><span class="p">:</span> <span class="n">stator_cu_loss</span><span class="p">,</span>
            <span class="s2">&quot;rotor_output&quot;</span><span class="p">:</span> <span class="n">rotor_output</span><span class="p">,</span>
            <span class="s2">&quot;slip&quot;</span><span class="p">:</span> <span class="n">slip</span><span class="p">,</span>
            <span class="s2">&quot;stator_rmf_speed (RPM)&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_speed</span><span class="p">,</span>
            <span class="s2">&quot;rotor_speed (RMP)&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotor_speed</span><span class="p">,</span>
            <span class="s2">&quot;power_factor&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">power_y</span> <span class="o">/</span> <span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">power_x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
            <span class="p">),</span>
            <span class="s2">&quot;efficiency&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">rotor_output</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">power_y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">power_scale</span><span class="p">)</span><span class="si">}</span><span class="s2"> %&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">__get_circle</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">semi</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determine parametric equation of circle.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        center: list[float, float] [x0, y0]</span>
<span class="sd">        radius: float</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        (x, y): tuple</span>
<span class="sd">                parametric equation of circle</span>
<span class="sd">                (x = x0 + r*cos(theta) ; y = y0 + r*sin(theta))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">[</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">]</span> <span class="o">=</span> <span class="n">center</span>

        <span class="k">if</span> <span class="n">semi</span><span class="p">:</span>
            <span class="n">theta</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mf">1e-4</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">theta</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">1e-4</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">=</span> <span class="n">x0</span> <span class="o">+</span> <span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">y0</span> <span class="o">+</span> <span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">__plot_line</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">mark_start</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mark_end</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Supporting function to plot a line.&quot;&quot;&quot;</span>
        <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">line</span>
        <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span>
        <span class="p">[</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="n">ls</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mark_start</span><span class="p">:</span>
            <span class="n">_plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">marker</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mark_end</span><span class="p">:</span>
            <span class="n">_plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">marker</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">compute_circle_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Compute the parameters of induction motor circle.&quot;&quot;&quot;</span>
        <span class="p">[[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">],</span> <span class="p">[</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_current_line</span>
        <span class="n">theta</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arctan</span><span class="p">((</span><span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span><span class="p">))</span>
        <span class="n">length</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">radius</span> <span class="o">=</span> <span class="n">length</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span>
        <span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="n">radius</span> <span class="o">+</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">center</span><span class="p">,</span> <span class="n">radius</span>

    <span class="k">def</span> <span class="nf">get_torque_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain the torque line of the induction motor.&quot;&quot;&quot;</span>
        <span class="p">[[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">],</span> <span class="p">[</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_current_line</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">torque_ratio</span> <span class="o">*</span> <span class="n">y2</span> <span class="o">+</span> <span class="n">y1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">torque_ratio</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">torque_point</span> <span class="o">=</span> <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span>
        <span class="n">torque_line</span> <span class="o">=</span> <span class="p">[[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">],</span> <span class="p">[</span><span class="n">y1</span><span class="p">,</span> <span class="n">y</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">torque_line</span><span class="p">,</span> <span class="n">torque_point</span>

    <span class="k">def</span> <span class="nf">get_torque_max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Compute max torque for given Induction Motor parameters.&quot;&quot;&quot;</span>
        <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">torque_line</span>
        <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span>
        <span class="p">[</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arctan</span><span class="p">((</span><span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span><span class="p">))</span>
        <span class="n">torque_max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
        <span class="p">)</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
        <span class="n">torque_max_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
        <span class="n">torque_max_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">torque_max</span><span class="p">,</span> <span class="n">torque_max_x</span><span class="p">,</span> <span class="n">torque_max_y</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">compute_slope</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compute slope of the line.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        line: list[float, float]</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        slope: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">[[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">],</span> <span class="p">[</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">line</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_output_power</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determine induction motor circle desired output power point.</span>

<span class="sd">        Obtain the point on the induction motor circle diagram which</span>
<span class="sd">        corresponds to the desired output power</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">[[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">],</span> <span class="p">[</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_current_line</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arctan</span><span class="p">((</span><span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span><span class="p">))</span>
        <span class="p">[</span><span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span>

        <span class="p">[[</span><span class="n">_</span><span class="p">,</span> <span class="n">no_load_x</span><span class="p">],</span> <span class="p">[</span><span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">no_load_line</span>
        <span class="n">beta</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">operating_power</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_scale</span>
                <span class="o">+</span> <span class="p">(</span><span class="n">center_x</span> <span class="o">-</span> <span class="n">no_load_x</span><span class="p">)</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
            <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span>
        <span class="p">)</span>
        <span class="n">beta_0</span> <span class="o">=</span> <span class="n">alpha</span> <span class="o">+</span> <span class="n">beta</span>
        <span class="n">beta_1</span> <span class="o">=</span> <span class="o">-</span><span class="n">alpha</span> <span class="o">+</span> <span class="n">beta</span>
        <span class="c1"># high slip</span>
        <span class="n">p_x_1</span> <span class="o">=</span> <span class="n">center_x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">beta_0</span><span class="p">)</span>
        <span class="n">p_y_1</span> <span class="o">=</span> <span class="n">center_y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">beta_0</span><span class="p">)</span>
        <span class="c1"># low slip</span>
        <span class="n">p_x_2</span> <span class="o">=</span> <span class="n">center_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">beta_1</span><span class="p">)</span>
        <span class="n">p_y_2</span> <span class="o">=</span> <span class="n">center_y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">beta_1</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">p_x_1</span><span class="p">,</span> <span class="n">p_y_1</span><span class="p">],</span> <span class="p">[</span><span class="n">p_x_2</span><span class="p">,</span> <span class="n">p_y_2</span><span class="p">]</span></div>



<div class="viewcode-block" id="PowerCircle">
<a class="viewcode-back" href="../../api/electricpy.visu.PowerCircle.html#electricpy.visu.PowerCircle">[docs]</a>
<span class="k">class</span> <span class="nc">PowerCircle</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Plot Power Circle Diagram of Transmission System.</span>

<span class="sd">    This class is designed to plot the power circle diagram of a transmission</span>
<span class="sd">    system both sending and receiving ends.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; import math, cmath</span>
<span class="sd">    &gt;&gt;&gt; from electricpy import visu</span>
<span class="sd">    &gt;&gt;&gt; visu.PowerCircle(</span>
<span class="sd">    ...     power_circle_type=&quot;receiving&quot;,</span>
<span class="sd">    ...     A=cmath.rect(0.895, math.radians(1.4)),</span>
<span class="sd">    ...     B=cmath.rect(182.5, math.radians(78.6)),</span>
<span class="sd">    ...     Vr=cmath.rect(215, 0),</span>
<span class="sd">    ...     Pr=50,</span>
<span class="sd">    ...     power_factor=-0.9</span>
<span class="sd">    ... )</span>

<span class="sd">    .. image:: /static/ReceivingPowerCircleExample.png</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    power_circle_type:  [&quot;sending&quot;, &quot;receiving&quot;]</span>
<span class="sd">                        Type of power circle diagram to plot.</span>
<span class="sd">    Vr:                 complex</span>
<span class="sd">                        Transmission Line Receiving End Voltage (phasor complex</span>
<span class="sd">                        value)</span>
<span class="sd">    Vs:                 complex</span>
<span class="sd">                        Transmission Line Sending End Voltage (phasor complex</span>
<span class="sd">                        value)</span>
<span class="sd">    power_factor:       float</span>
<span class="sd">                        Power Factor of the transmission system, default = None</span>
<span class="sd">    Pr:                 float</span>
<span class="sd">                        Receiving End Real Power, default = None</span>
<span class="sd">    Qr:                 float</span>
<span class="sd">                        Receiving End Reactive Power, default = None</span>
<span class="sd">    Sr:                 complex</span>
<span class="sd">                        Receiving End Total Complex Power, default = None</span>
<span class="sd">    Ps:                 float</span>
<span class="sd">                        Sending End Real Power, default = None</span>
<span class="sd">    Qs:                 float</span>
<span class="sd">                        Sending End Reactive Power, default = None</span>
<span class="sd">    Ss:                 complex</span>
<span class="sd">                        Sending End Total Complex Power, default = None</span>
<span class="sd">    A:                  float</span>
<span class="sd">                        Transmission System ABCD Parameters, A, default = None</span>
<span class="sd">    B:                  float</span>
<span class="sd">                        Transmission System ABCD Parameters, B, default = None</span>
<span class="sd">    C:                  float</span>
<span class="sd">                        Transmission System ABCD Parameters, C, default = None</span>
<span class="sd">    D:                  float</span>
<span class="sd">                        Transmission System ABCD Parameters, D, default = None</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="PowerCircle.__init__">
<a class="viewcode-back" href="../../api/electricpy.visu.PowerCircle.html#electricpy.visu.PowerCircle.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">power_circle_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">power_factor</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">Vr</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">Vs</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">Pr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">Qr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">Sr</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">Ps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">Qs</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">Ss</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">A</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">B</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">C</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">D</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Initialize the class.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">C</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="p">(</span>
                <span class="nb">abs</span><span class="p">(</span><span class="n">A</span> <span class="o">*</span> <span class="n">D</span> <span class="o">-</span> <span class="n">B</span> <span class="o">*</span> <span class="n">C</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-6</span>
            <span class="p">),</span> <span class="s2">&quot;ABCD Matrix is not a valid ABCD Matrix&quot;</span>

        <span class="k">if</span> <span class="n">power_circle_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;receiving&quot;</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">A</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">B</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">Vr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span><span class="p">,</span>
                <span class="p">)</span> <span class="o">=</span> <span class="n">PowerCircle</span><span class="o">.</span><span class="n">_build_circle</span><span class="p">(</span>
                    <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="s2">&quot;receiving_end&quot;</span><span class="p">,</span> <span class="n">Vr</span><span class="p">,</span> <span class="n">Pr</span><span class="p">,</span> <span class="n">Qr</span><span class="p">,</span> <span class="n">Sr</span><span class="p">,</span> <span class="n">power_factor</span><span class="p">,</span> <span class="n">Vs</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not enough attributes to build circle&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">power_circle_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;sending&quot;</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">B</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">D</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">Vs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span><span class="p">,</span>
                <span class="p">)</span> <span class="o">=</span> <span class="n">PowerCircle</span><span class="o">.</span><span class="n">_build_circle</span><span class="p">(</span>
                    <span class="n">D</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="s2">&quot;sending_end&quot;</span><span class="p">,</span> <span class="n">Vs</span><span class="p">,</span> <span class="n">Ps</span><span class="p">,</span> <span class="n">Qs</span><span class="p">,</span> <span class="n">Ss</span><span class="p">,</span> <span class="n">power_factor</span><span class="p">,</span> <span class="n">Vr</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not enough attributes to build power circle&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid power circle type&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">circle</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_build_circle</span><span class="p">(</span>
        <span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">circle_type</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Q</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">power_factor</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">V_ref</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">):</span>

        <span class="n">k</span> <span class="o">=</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">V</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span> <span class="o">/</span> <span class="nb">abs</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="n">_c</span><span class="o">.</span><span class="n">phase</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
        <span class="n">beta</span> <span class="o">=</span> <span class="n">_c</span><span class="o">.</span><span class="n">phase</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">circle_type</span> <span class="o">==</span> <span class="s2">&quot;receiving_end&quot;</span><span class="p">:</span>
            <span class="n">center</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="n">k</span> <span class="o">*</span> <span class="n">_c</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">alpha</span> <span class="o">-</span> <span class="n">beta</span><span class="p">),</span> <span class="o">-</span><span class="n">k</span> <span class="o">*</span> <span class="n">_c</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">alpha</span> <span class="o">-</span> <span class="n">beta</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">circle_type</span> <span class="o">==</span> <span class="s2">&quot;sending_end&quot;</span><span class="p">:</span>
            <span class="n">center</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">k</span> <span class="o">*</span> <span class="n">_c</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">alpha</span> <span class="o">-</span> <span class="n">beta</span><span class="p">),</span> <span class="o">-</span><span class="n">k</span> <span class="o">*</span> <span class="n">_c</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">alpha</span> <span class="o">-</span> <span class="n">beta</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">V_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">P</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">Q</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">radius</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">V</span><span class="p">)</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">V_ref</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">a2</span><span class="p">))</span>
            <span class="n">operation_point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">V_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">S</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">radius</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">V</span><span class="p">)</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">V_ref</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">a2</span><span class="p">))</span>
            <span class="n">operation_point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">S</span><span class="o">.</span><span class="n">imag</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">P</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">Q</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">radius</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">Point</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">))</span>
            <span class="n">operation_point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">S</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">radius</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">Point</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">S</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span>
            <span class="n">operation_point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">S</span><span class="o">.</span><span class="n">imag</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">P</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">power_factor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

            <span class="n">Q</span> <span class="o">=</span> <span class="n">P</span> <span class="o">*</span> <span class="n">_c</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">power_factor</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">real</span>

            <span class="k">if</span> <span class="n">power_factor</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Q</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">Q</span>

            <span class="n">radius</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">Point</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">))</span>
            <span class="n">operation_point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">Q</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">power_factor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">P</span> <span class="o">=</span> <span class="n">Q</span> <span class="o">/</span> <span class="n">_c</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">power_factor</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">real</span>
            <span class="n">radius</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">Point</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">))</span>
            <span class="n">operation_point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Not enough attributes found to perform calculation&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">radius</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">operation_point</span>

    <span class="k">def</span> <span class="nf">_cal_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">type1</span><span class="p">,</span> <span class="n">type2</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;V&quot;</span> <span class="o">+</span> <span class="n">type2</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;V&quot;</span> <span class="o">+</span> <span class="n">type2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;V&quot;</span> <span class="o">+</span> <span class="n">type1</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;P&quot;</span> <span class="o">+</span> <span class="n">type1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;P&quot;</span> <span class="o">+</span> <span class="n">type1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span><span class="o">.</span><span class="n">x</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Q&quot;</span> <span class="o">+</span> <span class="n">type1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Q&quot;</span> <span class="o">+</span> <span class="n">type1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span><span class="o">.</span><span class="n">y</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;S&quot;</span> <span class="o">+</span> <span class="n">type1</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;S&quot;</span> <span class="o">+</span> <span class="n">type1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span><span class="o">.</span><span class="n">y</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;power_factor&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;power_factor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span><span class="o">.</span><span class="n">y</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span><span class="o">.</span><span class="n">x</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">type1</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span> <span class="ow">and</span> <span class="n">type2</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Vs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Sr&quot;</span><span class="p">]</span>
                <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Vr&quot;</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Vs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Vs&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Vr&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="n">type1</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span> <span class="ow">and</span> <span class="n">type2</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Vr&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Ss&quot;</span><span class="p">]</span>
                <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;D&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Vs&quot;</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Vr&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Vr&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;Vs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">print_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Print the data of the circle.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;power_circle_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;receiving&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cal_parameters</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;power_circle_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;sending&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cal_parameters</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot; =&gt; &quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Return the data of the circle.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;power_circle_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;receiving&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cal_parameters</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;power_circle_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;sending&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cal_parameters</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span>

    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Plot the circle.&quot;&quot;&quot;</span>
        <span class="n">circle_x</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">circle_y</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">circle</span><span class="o">.</span><span class="n">parametric_equation</span><span class="p">(</span><span class="n">theta_resolution</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">):</span>
            <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
            <span class="n">circle_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="n">circle_y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

        <span class="n">c_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="o">.</span><span class="n">x</span>
        <span class="n">c_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="o">.</span><span class="n">y</span>

        <span class="n">op_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span><span class="o">.</span><span class="n">x</span>
        <span class="n">op_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operating_point</span><span class="o">.</span><span class="n">y</span>

        <span class="c1"># plot Circle and Diameter</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">circle_x</span><span class="p">,</span> <span class="n">circle_y</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">c_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">c_x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">],</span> <span class="p">[</span><span class="n">c_y</span><span class="p">,</span> <span class="n">c_y</span><span class="p">],</span> <span class="s2">&quot;g--&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">c_x</span><span class="p">,</span> <span class="n">c_x</span><span class="p">],</span> <span class="p">[</span><span class="n">c_y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">c_y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">],</span> <span class="s2">&quot;g--&quot;</span><span class="p">)</span>

        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">c_x</span><span class="p">,</span> <span class="n">op_x</span><span class="p">],</span> <span class="p">[</span><span class="n">c_y</span><span class="p">,</span> <span class="n">op_y</span><span class="p">],</span> <span class="s2">&quot;y*-.&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">op_x</span><span class="p">,</span> <span class="n">op_x</span><span class="p">],</span> <span class="p">[</span><span class="n">op_y</span><span class="p">,</span> <span class="n">c_y</span><span class="p">],</span> <span class="s2">&quot;b*-.&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">op_x</span><span class="p">,</span> <span class="n">op_y</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;power_circle_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2"> Power Circle&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Active Power&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Reactive Power&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">_plt</span></div>



<div class="viewcode-block" id="receiving_end_power_circle">
<a class="viewcode-back" href="../../api/electricpy.visu.receiving_end_power_circle.html#electricpy.visu.receiving_end_power_circle">[docs]</a>
<span class="k">def</span> <span class="nf">receiving_end_power_circle</span><span class="p">(</span>
    <span class="n">Vr</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">A</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">B</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">Pr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">Qr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">Sr</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">power_factor</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">Vs</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PowerCircle</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Construct Receiving End Power Circle.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; import math, cmath</span>
<span class="sd">    &gt;&gt;&gt; from electricpy import visu</span>
<span class="sd">    &gt;&gt;&gt; visu.receiving_end_power_circle(</span>
<span class="sd">    ...     A=cmath.rect(0.895, math.radians(1.4)),</span>
<span class="sd">    ...     B=cmath.rect(182.5, math.radians(78.6)),</span>
<span class="sd">    ...     Vr=cmath.rect(215, 0),</span>
<span class="sd">    ...     Pr=50,</span>
<span class="sd">    ...     power_factor=-0.9</span>
<span class="sd">    ... )</span>

<span class="sd">    .. image:: /static/ReceivingEndPowerCircleExample.png</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Vr:             complex</span>
<span class="sd">                    Receiving End Voltage, default = None.</span>
<span class="sd">    A:              complex</span>
<span class="sd">                    Transmission System ABCD Parameters, A, default = None.</span>
<span class="sd">    B:              complex,</span>
<span class="sd">                    Transmission System ABCD Parameters, B, default = None.</span>
<span class="sd">    Pr:             float, optional</span>
<span class="sd">                    Receiving End Real Power, default = None</span>
<span class="sd">    Qr:             float, optional</span>
<span class="sd">                    Receiving End Reactive Power, default = None</span>
<span class="sd">    Sr:             complex, optional</span>
<span class="sd">                    Receiving End Apparent Power, default = None</span>
<span class="sd">    power_factor:   float, optional</span>
<span class="sd">                    System End Power Factor, default = None</span>
<span class="sd">    Vs:             complex, optional</span>
<span class="sd">                    Sending End Voltage, default = None</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Receiving End Power Circle: PowerCircle</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">Vr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">A</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">B</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Not enough attributes to build Receiving end power circle at least&quot;</span>
            <span class="s2">&quot; provide `Vr`, `A`, `B`&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span>
        <span class="p">(</span>
            <span class="p">(</span><span class="n">Pr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">Qr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
            <span class="ow">or</span> <span class="p">(</span><span class="n">Sr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">power_factor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="ow">or</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">Pr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">power_factor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
            <span class="ow">or</span> <span class="p">(</span><span class="n">Qr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">power_factor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Not enough attributes for marking an operating point on Receiving &quot;</span>
            <span class="s2">&quot;End Power Circle&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">PowerCircle</span><span class="p">(</span>
        <span class="s2">&quot;receiving&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="p">{</span>
            <span class="s2">&quot;Vr&quot;</span><span class="p">:</span> <span class="n">Vr</span><span class="p">,</span>
            <span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span>
            <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="n">B</span><span class="p">,</span>
            <span class="s2">&quot;Pr&quot;</span><span class="p">:</span> <span class="n">Pr</span><span class="p">,</span>
            <span class="s2">&quot;Qr&quot;</span><span class="p">:</span> <span class="n">Qr</span><span class="p">,</span>
            <span class="s2">&quot;Sr&quot;</span><span class="p">:</span> <span class="n">Sr</span><span class="p">,</span>
            <span class="s2">&quot;Vs&quot;</span><span class="p">:</span> <span class="n">Vs</span><span class="p">,</span>
            <span class="s2">&quot;power_factor&quot;</span><span class="p">:</span> <span class="n">power_factor</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="sending_end_power_circle">
<a class="viewcode-back" href="../../api/electricpy.visu.sending_end_power_circle.html#electricpy.visu.sending_end_power_circle">[docs]</a>
<span class="k">def</span> <span class="nf">sending_end_power_circle</span><span class="p">(</span>
    <span class="n">Vs</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">B</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">D</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">Ps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">Qs</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">Ss</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">power_factor</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">Vr</span><span class="p">:</span> <span class="nb">complex</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PowerCircle</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Construct Receiving End Power Circle.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Vs:             complex</span>
<span class="sd">                    Sending End Voltage</span>
<span class="sd">    B:              complex</span>
<span class="sd">                    Transmission System ABCD Parameters, A</span>
<span class="sd">    D:              complex</span>
<span class="sd">                    Transmission System ABCD Parameters, B</span>
<span class="sd">    Ps:             float, optional</span>
<span class="sd">                    Sending End Real Power, default = None</span>
<span class="sd">    Qs:             float, optional</span>
<span class="sd">                    Sending End Reactive Power, default = None</span>
<span class="sd">    Ss:             complex, optional</span>
<span class="sd">                    Sending End Apparent Power, default = None</span>
<span class="sd">    power_factor:   float, optional</span>
<span class="sd">                    System Power Factor, default = None</span>
<span class="sd">    Vr:             complex, optional</span>
<span class="sd">                    Receiving End Voltage, default = None</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Sending End Power Circle: PowerCircle</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">Vs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">B</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">D</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Not enough attributes to build Sending end power circle at least &quot;</span>
            <span class="s2">&quot;provide `Vs`, `B`, `D`&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span>
        <span class="p">(</span>
            <span class="p">(</span><span class="n">Ps</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">Qs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
            <span class="ow">or</span> <span class="p">(</span><span class="n">Ss</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">power_factor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="ow">or</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">Ps</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">power_factor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
            <span class="ow">or</span> <span class="p">(</span><span class="n">Qs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">power_factor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Not enough attributes for marking an operating point on Sending &quot;</span>
            <span class="s2">&quot;End Power Circle&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">PowerCircle</span><span class="p">(</span>
        <span class="s2">&quot;sending&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="p">{</span>
            <span class="s2">&quot;Vr&quot;</span><span class="p">:</span> <span class="n">Vr</span><span class="p">,</span>
            <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="n">B</span><span class="p">,</span>
            <span class="s2">&quot;D&quot;</span><span class="p">:</span> <span class="n">D</span><span class="p">,</span>
            <span class="s2">&quot;Ps&quot;</span><span class="p">:</span> <span class="n">Ps</span><span class="p">,</span>
            <span class="s2">&quot;Qs&quot;</span><span class="p">:</span> <span class="n">Qs</span><span class="p">,</span>
            <span class="s2">&quot;Ss&quot;</span><span class="p">:</span> <span class="n">Ss</span><span class="p">,</span>
            <span class="s2">&quot;Vs&quot;</span><span class="p">:</span> <span class="n">Vs</span><span class="p">,</span>
            <span class="s2">&quot;power_factor&quot;</span><span class="p">:</span> <span class="n">power_factor</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="SeriesRLC">
<a class="viewcode-back" href="../../api/electricpy.visu.SeriesRLC.html#electricpy.visu.SeriesRLC">[docs]</a>
<span class="k">class</span> <span class="nc">SeriesRLC</span><span class="p">():</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Frequency Response for an RLC (Resistive, Inductive, Capacitive) Load.</span>

<span class="sd">    Generate unique information about an RLC circuit. Using this class, you may</span>
<span class="sd">    generate a variety of useful statistics including resonance frequency,</span>
<span class="sd">    bandwidth, lower and upper cuttoff frequencies, and more. Each of the</span>
<span class="sd">    specific parameters are evaluated as follows.</span>

<span class="sd">    **Resonance Frequency:**</span>

<span class="sd">    .. math:: \text{resonance_frequency} = \frac{1}{\sqrt{L * C} \cdot 2 \pi}</span>

<span class="sd">    </span>
<span class="sd">    **Bandwidth:**</span>

<span class="sd">    .. math:: \text{bandwidth} = \frac{R}{L \cdot 2 \pi}</span>

<span class="sd">    </span>
<span class="sd">    **Quality Factor:**</span>

<span class="sd">    .. math:: \text{quality_factor} = 2\pi \frac{\text{freq}}{R}</span>


<span class="sd">    Given the characteristics listed below, and the Python code described in the</span>
<span class="sd">    associated example, the following plot will be generated.</span>
<span class="sd">    </span>
<span class="sd">    * Resistance: 5 ohms</span>
<span class="sd">    * Inductance: 0.4 henreys</span>
<span class="sd">    * Capacitance: 25.3e-6 farads</span>
<span class="sd">    * Frequency: 50 Hz</span>

<span class="sd">    .. image:: /static/series-rlc-r5-l0.4.png</span>


<span class="sd">    * Resistance: 10 ohms</span>
<span class="sd">    * Inductance: 0.5 henreys</span>
<span class="sd">    * Capacitance: 25.3e-6 farads</span>
<span class="sd">    * Frequency: 50 Hz</span>

<span class="sd">    .. image:: /static/series-rlc-r10-l0.5.png</span>

<span class="sd">    </span>
<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from electricpy.visu import SeriesRLC</span>
<span class="sd">    &gt;&gt;&gt; rlc_component = SeriesRLC(</span>
<span class="sd">    ...     resistance=5, inductance=0.4, capacitance=25.3e-6, frequency=50</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; rlc_component.resonance_frequency</span>
<span class="sd">    50.029927713857425</span>
<span class="sd">    &gt;&gt;&gt; rlc_component.bandwidth</span>
<span class="sd">    1.9894367886486917</span>
<span class="sd">    &gt;&gt;&gt; plot_1 = rlc_component.graph(</span>
<span class="sd">    ...     lower_frequency_cut=0.1, upper_frequency_cut=100, samples=1000</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; plot_1.show()</span>
<span class="sd">    &gt;&gt;&gt; plot_2 = SeriesRLC(</span>
<span class="sd">    ...     resistance=10, inductance=0.5, capacitance=25.3e-6, frequency=50</span>
<span class="sd">    ... ).graph(</span>
<span class="sd">    ...     lower_frequency_cut=0.1, upper_frequency_cut=100, samples=1000,</span>
<span class="sd">    ...     show_legend=True,</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; plot_2.show()</span>


<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    resistance:     float</span>
<span class="sd">                    Resistance (in Ohm) of the circuit.</span>
<span class="sd">    inductance:     float</span>
<span class="sd">                    Inductance (in Henry) of the circuit.</span>
<span class="sd">    capacitance:    float</span>
<span class="sd">                    Capacitance (in Hz) of the circuit.</span>
<span class="sd">    frequency:      float</span>
<span class="sd">                    Frequency (in Hz) at which the output gain should be</span>
<span class="sd">                    evaluated.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="SeriesRLC.__init__">
<a class="viewcode-back" href="../../api/electricpy.visu.SeriesRLC.html#electricpy.visu.SeriesRLC.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resistance</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">inductance</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">capacitance</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">frequency</span><span class="p">:</span> <span class="nb">float</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Form the Frequency Response Analysis System.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resistance</span> <span class="o">=</span> <span class="n">resistance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inductance</span> <span class="o">=</span> <span class="n">inductance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">capacitance</span> <span class="o">=</span> <span class="n">capacitance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span> <span class="o">=</span> <span class="n">frequency</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">resonance_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resonance Frequency (in Hz) of the Described RLC Circuit.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inductance</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">capacitance</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bandwidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bandwidth of the Described RLC Circuit.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resistance</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">inductance</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">quality_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Quality Factor of the Described RLC Circuit.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">resistance</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lower_cutoff_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Lower Cutoff Frequency (in Hz) of the Described RLC Circuit.&quot;&quot;&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">resistance</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">inductance</span><span class="p">)</span>
        <span class="n">resonance_angular_frequency</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">resonance_frequency</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">resonance_angular_frequency</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">upper_cutoff_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Upper Cutoff Frequency (in Hz) of the Described RLC Circuit.&quot;&quot;&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resistance</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">inductance</span><span class="p">)</span>
        <span class="n">resonance_angular_frequency</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">resonance_frequency</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">resonance_angular_frequency</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">output_gain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluate Output Gain of Described RLC Circuit at a Particular Frequency.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frequency:  float</span>
<span class="sd">                    Frequency (in Hz) at which the output gain should be</span>
<span class="sd">                    evaluated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ang_frq</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">_np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">frequency</span>
        <span class="n">current_impedence</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resistance</span><span class="o">**</span><span class="mi">2</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">ang_frq</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">inductance</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">ang_frq</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">capacitance</span><span class="p">))</span> <span class="o">**</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resistance</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">current_impedence</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">legend</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a Legend for the Graph.&quot;&quot;&quot;</span>
        <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lower_cutoff_frequency</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">upper_cutoff_frequency</span>
        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resonance_frequency</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="s2">&quot;Gain&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Resonance frequency (</span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="s2">Hz)&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Lower cutoff frequency (</span><span class="si">{</span><span class="n">f1</span><span class="si">}</span><span class="s2">Hz)&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Upper cutoff frequency (</span><span class="si">{</span><span class="n">f2</span><span class="si">}</span><span class="s2">Hz)&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Bandwidth (</span><span class="si">{</span><span class="n">f2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">f1</span><span class="si">}</span><span class="s2">Hz)&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Quality factor </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_factor</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">graph</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">lower_frequency_cut</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">upper_frequency_cut</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">,</span>
        <span class="n">show_legend</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a Plot to Represent all Data Respective of the RLC Circuit.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        lower_frequency_cut:    float</span>
<span class="sd">                                Minimum frequency to demonstrate as a boundary</span>
<span class="sd">                                of the X-axis of the plot.</span>
<span class="sd">        upper_frequency_cut:    float</span>
<span class="sd">                                Maximum frequency to demonstrate as a boundary</span>
<span class="sd">                                of the X-axis of the plot.</span>
<span class="sd">        samples:                float, optional</span>
<span class="sd">                                Number of samples over which the plot should be</span>
<span class="sd">                                formed. Defaults to 1000.</span>
<span class="sd">        show_legend:            bool, optional</span>
<span class="sd">                                Control to enable or disable the display of the</span>
<span class="sd">                                legend. Defaults to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">lower_frequency_cut</span><span class="p">,</span> <span class="n">upper_frequency_cut</span><span class="p">,</span> <span class="n">samples</span><span class="p">)</span>

        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_gain</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="n">_plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Frequency response of series RLC circuit&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">visible</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Gain&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Gain&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Frequency (Hz)&quot;</span><span class="p">)</span>
        <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lower_cutoff_frequency</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">upper_cutoff_frequency</span>
        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resonance_frequency</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
            <span class="p">[</span><span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">],</span>
            <span class="p">[</span><span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span> <span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)],</span>
            <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
            <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">half_power_gain</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>

        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">f</span><span class="p">,</span> <span class="n">f</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-.&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">f1</span><span class="p">,</span> <span class="n">f1</span><span class="p">],</span> <span class="p">[</span><span class="n">half_power_gain</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-.&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">f2</span><span class="p">,</span> <span class="n">f2</span><span class="p">],</span> <span class="p">[</span><span class="n">half_power_gain</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-.&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">],</span> <span class="p">[</span><span class="n">half_power_gain</span><span class="p">,</span> <span class="n">half_power_gain</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-.&quot;</span><span class="p">)</span>

        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">f</span><span class="p">],</span> <span class="p">[</span><span class="n">half_power_gain</span><span class="p">,</span> <span class="n">half_power_gain</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span>
        <span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">f</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">half_power_gain</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Quality factor&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">half_power_gain</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;v&quot;</span><span class="p">)</span>
        <span class="n">_plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_nolegend_&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;^&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_legend</span><span class="p">:</span>
            <span class="n">_plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">legend</span><span class="p">(),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_plt</span></div>

<span class="c1"># END</span>
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2022, Joe Stanley.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    7.2.6.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
      
        <script src="../../_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
    
  </body>
</html>